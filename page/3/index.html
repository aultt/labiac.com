<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Automation One Day at a Time</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Automation One Day at a Time">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="Automation One Day at a Time">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Troy Ault">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Automation One Day at a Time" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Automation One Day at a Time</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-introducing-labinabox" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2016/11/22/introducing-labinabox/" class="article-date">
  <time class="dt-published" datetime="2016-11-22T09:56:32.000Z" itemprop="datePublished">2016-11-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Lab/">Lab</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2016/11/22/introducing-labinabox/">Introducing LabInaBox</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Introducing-LabInaBox"><a href="#Introducing-LabInaBox" class="headerlink" title="Introducing LabInaBox"></a>Introducing LabInaBox</h1><p>[Troy Ault](<a target="_blank" rel="noopener" href="https://social.msdn.microsoft.com/profile/Troy">https://social.msdn.microsoft.com/profile/Troy</a> Ault) 11/22/2016 9:56:58 AM</p>
<hr>
<p>Do you have a need to spin up a sandbox lab environment quickly to test DSC configurations, updates or really anything?  In writing DSC configurations over the last year I have found the need to do this often.  To simplify things I put together a few configurations and scripts to assist going forward.  The solution can be found in a GitHub repo along with the documentation on how to get started.  Stay tuned as updates will be coming to enhance this in the future. <a target="_blank" rel="noopener" href="https://github.com/Microsoft/DSC-data-driven-deployment/tree/dev/utility/LabInaBox">https://github.com/Microsoft/DSC-data-driven-deployment/tree/dev/utility/LabInaBox</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/11/22/introducing-labinabox/" data-id="ckv2nrjln0022p8iickxy0xz5" data-title="Introducing LabInaBox" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Automated-Lab/" rel="tag">Automated Lab</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Testing-Environement/" rel="tag">Testing Environement</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-introducing-dsc-data-driven-deployment" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2016/09/09/introducing-dsc-data-driven-deployment/" class="article-date">
  <time class="dt-published" datetime="2016-09-09T15:37:23.000Z" itemprop="datePublished">2016-09-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DSC/">DSC</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2016/09/09/introducing-dsc-data-driven-deployment/">Introducing DSC Data Driven Deployment</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Introducing-DSC-Data-Driven-Deployment"><a href="#Introducing-DSC-Data-Driven-Deployment" class="headerlink" title="Introducing DSC Data Driven Deployment"></a>Introducing DSC Data Driven Deployment</h1><p>[Troy Ault](<a target="_blank" rel="noopener" href="https://social.msdn.microsoft.com/profile/Troy">https://social.msdn.microsoft.com/profile/Troy</a> Ault) 9/9/2016 3:37:59 PM</p>
<hr>
<p>Working with customers over the past year, many have asked: How can we manage SQL Server configurations at scale in a large enterprise?  PowerShell DSC provides a configuration framework out of the box, however, there isn’t a way to quickly build SQL deployment templates and provision in a DevOps fashion without using a third party product.  A colleague and I took on the task of developing a proof of concept data driven deployment solution backed by a SQL database. The solution provides default SQL configurations (templates) and the ability to add additional configurations as you see fit. Meta data for the configuration is stored within the database as well as setup credentials stored in a secure manner.  DevOps users may quickly queue requests which can be pushed manually or via some orchestration (even just a scheduled task). Initially available in the project are two configurations: SQLStandAlone and SQLAlwaysOn. Steps to setup and deploy the solution are all documented in the Readme file. Currently the solution is a push deployment which consists of a Test-Configuration at the end to validate it was successful. Future plans are to add include the following:</p>
<ol>
<li> Provide a mechanism to validate the configuration and redeploy</li>
<li> Provide history tracking of configuration overtime</li>
<li> Provide reporting/auditing of configurations</li>
</ol>
<p>Over the past couple of months I have spoken with many of you about this solution, and it is now publicly available as a sanctioned open source project on GitHub –&gt; <a target="_blank" rel="noopener" href="https://github.com/Microsoft/DSC-data-driven-deployment">https://github.com/Microsoft/DSC-data-driven-deployment</a> Please feel free to add Issues/Feature requests and Contribute to the project</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/09/09/introducing-dsc-data-driven-deployment/" data-id="ckv2nrjlg001yp8ii5ikd6f8x" data-title="Introducing DSC Data Driven Deployment" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSC/" rel="tag">DSC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSC-at-Scale/" rel="tag">DSC at Scale</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Desired-State-Configuration/" rel="tag">Desired State Configuration</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-sql-dsc-encrypted-configuration" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2016/04/25/sql-dsc-encrypted-configuration/" class="article-date">
  <time class="dt-published" datetime="2016-04-25T14:02:46.000Z" itemprop="datePublished">2016-04-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DSC/">DSC</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2016/04/25/sql-dsc-encrypted-configuration/">SQL DSC Encrypted Configuration</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[Troy Ault](<a target="_blank" rel="noopener" href="https://social.msdn.microsoft.com/profile/Troy">https://social.msdn.microsoft.com/profile/Troy</a> Ault)</p>
<p>4/25/2016 2:02:01 PM</p>
<hr>
<p>Following up on my last post about new changes coming to xSQLServer. Today I want to talk about two additional Example scripts which have been provided with the new updates. The first script is DSCSqlBuild.ps1. This new script adds a couple of items SQLPush_SingleServer.ps1 doesn’t have. DSCSQLBuild.ps1 like DSCClusterSQLBuild.ps1 adds a timer to the configuration as well as the StartConfiguration and TestConfiguration are provided as workflows so configurations can be done in parallel. Moving on to the second script DSCSQLBuildEncrypted.ps1. This script will allow you to push a configuration to a server encrypting all the credentials ensuring we are secure across our environment. In order to do this, we need to have certificates for each of our servers in place with the document encryption property. You can use self-signed certificates for this, however, in an enterprise environment, you will likely want to have a certificate authority with a GPO which automatically enrolls your server with the certificate. In my lab, I have setup a Windows 2008R2 certificate authority, and I will walk through the steps of how to configure your servers with certificates. In addition, I will then walk through the example script and explain how the script can leverage the certificate to encrypt the passwords. The first thing we will need to do is duplicate an existing template. Since we will be assigning to a computer I will duplicate the Computer Template and name it DSC Password Mgmt. <a href="/wp-content/uploads/2018/12/DuplicateTemplate.png"><img src="/wp-content/uploads/2018/12/DuplicateTemplate.png" alt="DuplicateTemplate"></a> Once I’ve done this I’m presented with an option of Windows Server 2003 Enterprise or Windows Server 2008 Enterprise.   We want to choose Windows 2003 Enterprise to make sure we use the older CSP since DSC doesn’t support CNG certificates. If your CA is 2012 R2 you wont have to do this since its default behavior is the older CSP. <a href="/wp-content/uploads/2018/12/Choose2003Enterprise.png"><img src="/wp-content/uploads/2018/12/Choose2003Enterprise.png" alt="Choose2003Enterprise"></a> Walking through the remaining options of the Certificate Template: Set the name and validity period. <a href="/wp-content/uploads/2018/12/Template-Properties.png"><img src="/wp-content/uploads/2018/12/Template-Properties.png" alt="Template Properties"></a> Select Encryption Purpose on the Request Handling tab. <a href="/wp-content/uploads/2018/12/EncryptionPurpose.png"><img src="/wp-content/uploads/2018/12/EncryptionPurpose.png" alt="EncryptionPurpose"></a> Extensions Tab. Edit the Application Policies. <a href="/wp-content/uploads/2018/12/ApplicationPoliciesEdit.png"><img src="/wp-content/uploads/2018/12/ApplicationPoliciesEdit.png" alt="ApplicationPoliciesEdit"></a> Remove Client Authentication and Server Authentication <a href="/wp-content/uploads/2018/12/RemoveClientServer.png"><img src="/wp-content/uploads/2018/12/RemoveClientServer.png" alt="RemoveClientServer"></a> Then click Add. On Add Application Policy click New then provide values shown below. <a href="/wp-content/uploads/2018/12/NewApplicationPolicy.png"><img src="/wp-content/uploads/2018/12/NewApplicationPolicy.png" alt="NewApplicationPolicy"></a> Click OK and Apply changes to Template. We should now see the new Template in the list as below. <a href="/wp-content/uploads/2018/12/New-Template-list.png"><img src="/wp-content/uploads/2018/12/New-Template-list.png" alt="New Template list"></a> Now we can make the template available for clients to enroll against. We do this by using the new option under Certificate Templates. <a href="/wp-content/uploads/2018/12/CertificatetoIssue.png"><img src="/wp-content/uploads/2018/12/CertificatetoIssue.png" alt="CertificatetoIssue"></a> We select the new Certificate Template from the dialog and then its available for computers to use during enrollment <a href="/wp-content/uploads/2018/12/EnableCertTemp.png"><img src="/wp-content/uploads/2018/12/EnableCertTemp.png" alt="EnableCertTemp"></a> At this point we could create a GPO to auto enroll this certificate. As there are blog posts already on this, I won’t walk through this here. Next, let’s look at the script which will leverage this certificate. The first thing we set as usual is the $computers variable and the $OutputPath. Additionally, we will now set a $KeyPath. This is where we will be storing the public keys of the computers we will push configurations to. <a href="/wp-content/uploads/2018/12/ScriptVariables.png"><img src="/wp-content/uploads/2018/12/ScriptVariables.png" alt="ScriptVariables"></a> Let’s create a function we can use to go export the public certificate of the target computer on our machine we are pushing configurations from. We will then call this function for each computer we are pushing the configuration to and the machine we are pushing the configuration from. This gives us all the certificates we need to deploy an encrypted configuration. <a href="/wp-content/uploads/2018/12/GetCertFunc.png"><img src="/wp-content/uploads/2018/12/GetCertFunc.png" alt="GetCertFunc"></a>Next we set the LCM for each node. Notice here we set a couple of different properties we didn’t in our other configurations. ConfigurationID which we set to a GUID and CertificateID which we are setting to the Thumbprint of the computer we are targeting. Here we use the Get-PfXCertificate cmdlet to help us get the thumbprint easily. <a href="/wp-content/uploads/2018/12/LocalConfig.png"><img src="/wp-content/uploads/2018/12/LocalConfig.png" alt="LocalConfig"></a>Three additional places in our original script need to be modified as well and are noted below. The DSCLocalConifgurationManager just inside the $AllNodes.NodeName. We need to again note the certificateId with the Nodes Thumbprint. <a href="/wp-content/uploads/2018/12/SQLBuild.png"><img src="/wp-content/uploads/2018/12/SQLBuild.png" alt="SQLBuild"></a> Within $ConfigurationData we need to set the CertificateFile property to the Thumbprint of the BuildServer. Again here we leverage Get-PfxCertifcate cmdlet <a href="/wp-content/uploads/2018/12/ConfigData.png"><img src="/wp-content/uploads/2018/12/ConfigData.png" alt="ConfigData"></a>And finally need to set the Thumbprint for each Computer in the $ConfigurationData. Since we dynamically build this property we only set it once just using the same cmdlet. <a href="/wp-content/uploads/2018/12/Final.png"><img src="/wp-content/uploads/2018/12/Final.png" alt="Final"></a>The remainder of our script is unchanged from the DSCSQLBuild.ps1.  So why go to all this work? Let’s take a look at a mof file which is generated with DSCSQLBuild.ps1 compared to one generated from DSCSQLBuildEncrypted.ps1. This is just a portion of the mof file. Notice password is stored clear text. <a href="/wp-content/uploads/2018/12/UnencryptedMof.png"><img src="/wp-content/uploads/2018/12/UnencryptedMof.png" alt="UnencryptedMof"></a> Contrast that with the mof file from the DSSQLBuildEncrypted.ps1 <a href="/wp-content/uploads/2018/12/EncryptedMof.png"><img src="/wp-content/uploads/2018/12/EncryptedMof.png" alt="EncryptedMof"></a>Our Password here is encrypted and longer than I can get a screen shot of.  Overall, a little bit of work may be required to get the environment ready, but in the end worth the effort to ensure your passwords are stored securely. Additional Reference: <a target="_blank" rel="noopener" href="https://blogs.msdn.microsoft.com/powershell/2015/10/01/powershell-dsc-faq-sorting-out-certificates/">https://blogs.msdn.microsoft.com/powershell/2015/10/01/powershell-dsc-faq-sorting-out-certificates/</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/04/25/sql-dsc-encrypted-configuration/" data-id="ckv2nrjls002lp8iigdmn6jwk" data-title="SQL DSC Encrypted Configuration" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSC/" rel="tag">DSC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Desired-State-Configuration/" rel="tag">Desired State Configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-sql-dsc-alwayson-support" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2016/04/22/sql-dsc-alwayson-support/" class="article-date">
  <time class="dt-published" datetime="2016-04-22T19:47:39.000Z" itemprop="datePublished">2016-04-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DSC/">DSC</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2016/04/22/sql-dsc-alwayson-support/">SQL DSC AlwaysOn Support</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p> </p>
<h1 id="SQL-DSC-AlwaysOn-Support"><a href="#SQL-DSC-AlwaysOn-Support" class="headerlink" title="SQL DSC AlwaysOn Support"></a>SQL DSC AlwaysOn Support</h1><p>[Troy Ault](<a target="_blank" rel="noopener" href="https://social.msdn.microsoft.com/profile/Troy">https://social.msdn.microsoft.com/profile/Troy</a> Ault) 4/22/2016 7:47:21 PM</p>
<hr>
<p>New updates are coming to xSQLServer, they should be available shortly after this post, and will provide support for AlwaysOn Availability groups. Along with the updates are three new example scripts. The three scripts are the following: DSCSQLBuild.ps1, DSCClusterSQLBuild.ps1, and DSCSQLBuildEncrypted.ps1. This blog post will talk specifically about DSCClusterSQLBuild.ps1. This example shows how to leverage the new resources to build an AlwaysOn cluster. Since DSC is built on PowerShell it doesn’t matter how many nodes are participating in our AlwaysOn cluster we just have to specify the computer names and it handles all the configuration for us. Image the amount of time we can save building out new AlwaysOn clusters. So let’s dig into the script and talk about how you can start leveraging it. At the top of the configuration script we have a couple of variables. <img src="/wp-content/uploads/2018/12/Image1.png" alt="Image1"> $computers is an array of computers which will participate in the AlwaysOn cluster. First iteration of the resource makes some assumptions around the list of computers you are providing here. The first two nodes will be assumed to be synchronous with automatic failover. All additional nodes provided will be created as asynchronous replicas. Advancements can be made here however initially this is how the resource is developed. The next few lines of code will look similar to the other configuration examples provided.  We create Cimsessions to each computer and apply the LCM to each. <a href="/wp-content/uploads/2018/12/Image2.png"><img src="/wp-content/uploads/2018/12/Image2.png" alt="Image2"></a> Next Section is where things differentiate from previous configuration slightly.  Notice the Node $AllNodes line. Everything within this section will only be applied to Nodes which contain the Role of PrimaryClusterNode <a href="/wp-content/uploads/2018/12/Image3.png"><img src="/wp-content/uploads/2018/12/Image3.png" alt="Image3"></a> As before, we ensure the .Net Framework exists as SQL Server install requires this.  Additionally, we will ensure the AD PowerShell cmdlets are installed as one of the AlwaysOn modules will require it.  The next section doesn’t change from previous example configurations as it’s the configuration of SQL Server.  Here the values are specified as literals, however, we could make them variables and expose at the top of the script or even set them from a database connect. I will talk about further options like these in a later post. <a href="/wp-content/uploads/2018/12/Image4.png"><img src="/wp-content/uploads/2018/12/Image4.png" alt="Image4"></a> Next we ensure the FailoverFeature and all supporting components are available. <a href="/wp-content/uploads/2018/12/Image5.png"><img src="/wp-content/uploads/2018/12/Image5.png" alt="Image5"></a> The last section of the PrimaryClusternode will create the cluster, enable AlwaysOn, create the Endpoint and create the Availability Group.  Note that along the way we add all of our dependencies so DSC is aware and doesn’t do something before we are ready.  In the first step, we ensure the cluster is created and the node we are working with is a member of the cluster. Next, we enable AlwaysOn on the instance of SQL Server. We create the endpoint that AlwaysOn will leverage. It’s important to pass the Authorized user as we will grant connect to this user. Without this AlwaysOn will fail.  Finally, we Create the Availability Group with xSQLAOGroupEnsure. xSQLAOGroupEnsure defaults many of the parameters it accepts to limit the need to set a bunch of parameters. Within xSQLAOGroupEnsure there are a couple of things I would like you to be aware of that occur behind the scenes. There are some permissions granted to NT AUTHORITYSYSTEM such as ALTER Availability Group and View Server State. Currently these permissions are not removed, but I may look to remove them. Further testing needs to be done to validate. The resource also creates the computer object in AD within the same OU container where the cluster is created. Enterprises typically don’t place computer objects in the default computer object OU. SQL Server by default will place the listener object in the default computer OU. xSQLAOGroupEnsure creates the computer object in the same OU as the cluster, disables the object, and grants the permissions required to the cluster name object so it can enable the account and bring it online. To make you aware, I will call each out below: $AvailabilityGroupNameListener if not passed will default to the availability group name. $AvailabilityGroupNameIp if not passed the listener will be created with a dynamic IP address. Multiple Ips can be passed each will be added to the listener. $AvailabilityGroupSubMask if not passed the listener will be created with a dynamic IP address. $AvailabilityGroupPort defaults to 1433 $ReadableSecondary defaults to ReadOnly. Valid options are None, ReadOnly, ReadIntent $AutoBackupPreference defaults to Primary $SetupCredential must be passed as this is what is used to create the availability group in SQL Server. <a href="/wp-content/uploads/2018/12/Image6.png"><img src="/wp-content/uploads/2018/12/Image6.png" alt="Image6"></a> We have now configured the PrimaryClusterNode and will now loop configure each of the ReplicaServerNodes.  As before, we do this based on the role where it equals ReplicaServerNode. <a href="/wp-content/uploads/2018/12/Image7.png"><img src="/wp-content/uploads/2018/12/Image7.png" alt="Image7"></a> Again, we ensure the FailoverFeature and all the components are present. <a href="/wp-content/uploads/2018/12/Image8.png"><img src="/wp-content/uploads/2018/12/Image8.png" alt="Image8"></a> Unlike the PrimaryReplicaNode, we need to ensure the Cluster is created before we try to add the node to the cluster so we have a waitForCluster resource and set our JoinCluster resource to depend on it. WaitforCluster has a retry interval and retry count you can use to influence how often it checks. Depending on your domain environment, you may have replication you have to wait on before its available so you can adjust accordingly. <a href="/wp-content/uploads/2018/12/Image9.png"><img src="/wp-content/uploads/2018/12/Image9.png" alt="Image9"></a> As before, we need to enable AlwaysOn on the instance and create the endpoint. <a href="/wp-content/uploads/2018/12/Image10.png"><img src="/wp-content/uploads/2018/12/Image10.png" alt="Image10"></a> Similar to the Cluster portion, we need to wait for the availability group to be created before we can join it.   xWaitForAvailabilityGroup also has retryinterval and retrycount to determine how often and how many times it attempts before failing. <a href="/wp-content/uploads/2018/12/Image11.png"><img src="/wp-content/uploads/2018/12/Image11.png" alt="Image11"></a> The last part of the script dynamically builds the configuration data which is passed to the configuration. The first section AllNodes applies to each and every node in the configuration. Each value is described below: PSDscAllowPlainTextPassword - Allows the use of plain txt passwords. Passwords will be stored in the mof file unencrypted. Set to false and use certificates to be secure. A blog post on this to follow. PSDscAllowDomainUser required since we hare passing in a domain credential to resources NETPath - shared location where the SXS folder for the version of Windows you are running on each node. This is utilized if .NET is not present on the node. SourcePath - shared location where the SQL Server installation files have been exploded on disk for the version of SQL which should be present. InstallerServiceAccount - Account which will be leveraged to run the SQL Server installation. AdminAccount - account which will be granted sa within SQL Server. ClusterName - Name of the cluster which is created for AlwaysOn ClusterIPAddress - Ip address of the cluster. Currently this resource doesn’t support DynamicIP, however maybe in the future. The next section dynamically builds each Node configuration and appends it to the configurationdata. The first computer in the list becomes the PrimaryServerNode while all others are made ReplicaServerNodes. Again, as discussed before, the values set here could be defined as variables and passed here to simplify. In the last step of the loop, we test for the resources on each node, remove them if they exist, and recopy them to ensure we have the latest code. <a href="/wp-content/uploads/2018/12/Image12.png"><img src="/wp-content/uploads/2018/12/Image12.png" alt="Image12"></a> After we create the configuration, the final step is to push the configuration to each of the nodes. Since we are building to potentially many nodes, I chose to do this via a workflow as shown below. I have also included the test in the form of a workflow for validating after the configuration has applied. <a href="/wp-content/uploads/2018/12/Image13.png"><img src="/wp-content/uploads/2018/12/Image13.png" alt="Image13"></a> <a href="/wp-content/uploads/2018/12/Image14.png"><img src="/wp-content/uploads/2018/12/Image14.png" alt="Image14"></a> I hope after reading this blog post you have a better understanding of how you can leverage the xSQLServer resources.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2016/04/22/sql-dsc-alwayson-support/" data-id="ckv2nrjlr002ip8ii2rc09062" data-title="SQL DSC AlwaysOn Support" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Automated-SQL-Install/" rel="tag">Automated SQL Install</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSC/" rel="tag">DSC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Desired-State-Configuration/" rel="tag">Desired State Configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-Server/" rel="tag">SQL Server</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-desired-state-configurationdsc-for-sql-server" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/08/31/desired-state-configurationdsc-for-sql-server/" class="article-date">
  <time class="dt-published" datetime="2015-08-31T07:53:16.000Z" itemprop="datePublished">2015-08-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DSC/">DSC</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/08/31/desired-state-configurationdsc-for-sql-server/">Desired State Configuration(DSC) for SQL Server</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Desired-State-Configuration-DSC-for-SQL-Server"><a href="#Desired-State-Configuration-DSC-for-SQL-Server" class="headerlink" title="Desired State Configuration(DSC) for SQL Server"></a>Desired State Configuration(DSC) for SQL Server</h1><p>[Troy Ault](<a target="_blank" rel="noopener" href="https://social.msdn.microsoft.com/profile/Troy">https://social.msdn.microsoft.com/profile/Troy</a> Ault) 8/31/2015 7:53:47 AM</p>
<hr>
<p>Many people are not familiar with DSC yet so lets first start with what is DSC and why we as DBA’s should care.  DSC is a management framework in PowerShell.  DSC allows us to deploy and manage configuration data. Some examples of practical applications would be the following:</p>
<ul>
<li>  Enabling/Disabling server roles and features</li>
<li>  Managing registry settings</li>
<li>  Managing files and directories</li>
<li>  Starting/Stopping/Managing processes and services</li>
<li>  Managing groups and user accounts</li>
<li>  Deploying software</li>
<li>  Fixing a configuration which has drifted from its intended configuration</li>
</ul>
<p>So from a SQL perspective how can we as DBA’s leverage this framework?  There are several ways and many are already available for us in the PowerShell Gallery.  If we don’t find specifically what we need we can generate it and publish it for others to consume as well.  The exciting thing about DSC is it is community driven. So specifically around SQL Server I can think of a few things which every DBA should be interested in automating.</p>
<ul>
<li>  Installation of SQL Server</li>
<li>  Configuration of SQL Server. (MaxMemory, MaxDop, ect)</li>
<li>  Security Compliance</li>
</ul>
<p>In addition it would be nice if after we built a server we knew the configuration would not change.  DSC can help us here as well because it can monitor the configuration and if it changes it can put it back to the correct configuration. When we talk DSC the first thing we need to understand is how are the configurations being applied.  On each target node there is a local configuration manager (LCM) which is responsible for calling resources included in the DSC configuration script.  LCM is configurable such that you can specify the frequency it checks the configuration, which mode the confutation is in (Push vs. Pull), if the node can be rebooted if needed, as well as others. Two different modes exist for the LCM push or pull.  Push allows for configurations to be pushed to the server and applied.  This works well for testing or for a small deployment, however in larger deployments we will most likely look to a pull configuration.  Pull can be a SMB file share or a HTTP website.  Configuration files are stored here and servers periodically check in to see if they are utilizing the most recent configuration.  Depending on their LCM settings they could apply or just monitor. An example of Push and Pull LCM is provided below: <a href="/wp-content/uploads/2018/12/5353.image_269439DF.png"><img src="/wp-content/uploads/2018/12/0458.image_thumb_3786BEA7.png" alt="image" title="image"></a><a href="/wp-content/uploads/2018/12/2705.image_13D8E734.png"><img src="/wp-content/uploads/2018/12/4274.image_thumb_2222B04B.png" alt="image" title="image"></a> Now we have an understanding of LCM,how about the configuration where we want to deploy SQL Server and configure it. Here is the piece of code which will tell the LCM to install SQL Server.  A few parameters are required to be passed and then the configuration can be provided to the node and LCM will do the rest. <a href="/wp-content/uploads/2018/12/3323.image_455DFBD5.png"><img src="/wp-content/uploads/2018/12/3007.image_thumb_0FF14B7E.png" alt="image" title="image"></a> In addition we probably want to configure SQL Server after the install.  For instance SQL Server performs best when the power plan is set to High Performance. There are likely others we would want to set also such as min and max memory and page file.  There are many possibilities.  I took the most common ones I could think of and created a DSC module.  An example of how you can leverage them is listed below: <a href="/wp-content/uploads/2018/12/5684.image_388FB785.png"><img src="/wp-content/uploads/2018/12/7510.image_thumb_6F6C9C7C.png" alt="image" title="image"></a> Location of the modules are provided below.  Once you have cSQLConfig installed locally you will find an example configuration script in the examples folder.  This should get you started and only need some minor changes for your environment. cSQLConfig can be found in the PowerShell Gallery here –&gt; <a target="_blank" rel="noopener" href="https://www.powershellgallery.com/packages/cSQLConfig/" title="https://www.powershellgallery.com/packages/cSQLConfig/">https://www.powershellgallery.com/packages/cSQLConfig/</a> xSQLServer can be found in the PowerShell Gallery here –&gt;  <a target="_blank" rel="noopener" href="https://www.powershellgallery.com/packages/xSQLServer/" title="https://www.powershellgallery.com/packages/xSQLServer/">https://www.powershellgallery.com/packages/xSQLServer/</a> DSC opens up many possibilities for DBAs to automate and reduce unwanted change in their environment. If you are looking to learn more about DSC and how you can leverage it Jeffrey Snover and Jason Helmick have an excellent video on Microsoft Virtual Academy.  Link provided here –&gt;  <a target="_blank" rel="noopener" href="https://www.microsoftvirtualacademy.com/en-US/training-courses/getting-started-with-powershell-desired-state-configuration-dsc--8672" title="https://www.microsoftvirtualacademy.com/en-US/training-courses/getting-started-with-powershell-desired-state-configuration-dsc--8672">https://www.microsoftvirtualacademy.com/en-US/training-courses/getting-started-with-powershell-desired-state-configuration-dsc—8672</a> Hopefully everyone is excited about the opportunities this presents! Updates to leveraging DSC with the latest resources can be found in he following two posts.</p>
<h4 id="Desired-State-Configuration-DSC-for-SQL-Server-Update"><a href="#Desired-State-Configuration-DSC-for-SQL-Server-Update" class="headerlink" title="Desired State Configuration(DSC) for SQL Server ***Update"></a><a target="_blank" rel="noopener" href="https://blogs.msdn.microsoft.com/troy_aults_blog/2017/10/09/desired-state-configurationdsc-for-sql-server-update/">Desired State Configuration(DSC) for SQL Server ***Update</a></h4><h4 id="Desired-State-Configuration-DSC-for-SQL-Server-Update-2"><a href="#Desired-State-Configuration-DSC-for-SQL-Server-Update-2" class="headerlink" title="Desired State Configuration(DSC) for SQL Server ***Update 2"></a><a target="_blank" rel="noopener" href="https://blogs.msdn.microsoft.com/troy_aults_blog/2017/10/20/desired-state-configurationdsc-for-sql-server-update-2/">Desired State Configuration(DSC) for SQL Server ***Update 2</a></h4>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2015/08/31/desired-state-configurationdsc-for-sql-server/" data-id="ckv2nrjld001kp8iifw5jca60" data-title="Desired State Configuration(DSC) for SQL Server" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Automated-SQL-Install/" rel="tag">Automated SQL Install</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DSC/" rel="tag">DSC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Desired-State-Configuration/" rel="tag">Desired State Configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-alwayson-availability-group-automation-part-2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/06/23/alwayson-availability-group-automation-part-2/" class="article-date">
  <time class="dt-published" datetime="2015-06-23T18:41:14.000Z" itemprop="datePublished">2015-06-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SQL-Server/">SQL Server</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/06/23/alwayson-availability-group-automation-part-2/">AlwaysOn Availability Group Automation Part 2</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[Troy Ault](<a target="_blank" rel="noopener" href="https://social.msdn.microsoft.com/profile/Troy">https://social.msdn.microsoft.com/profile/Troy</a> Ault) 6/23/2015 6:41:20 AM</p>
<hr>
<p>Last post I talked about the function NewCustomAg which allows you to create availability groups. After running it, you will have an availability group created with one or no databases. Most likely you will want to add several databases to each availability group.  One option would be to utilize the GUI wizard, however, if you want to ensure a repeatable process you may want to utilize a script.  PowerShell again helps us with its integration with SMO.  To assist in this process, I have written a PowerShell module to accompany NewCustomAg.  The module name is Add-CustomAvailabilityDB and can be found in the TechNet Gallery here <a target="_blank" rel="noopener" href="https://gallery.technet.microsoft.com/Powershell-Module-To-Add-704fefe0" title="https://gallery.technet.microsoft.com/Powershell-Module-To-Add-704fefe0">https://gallery.technet.microsoft.com/Powershell-Module-To-Add-704fefe0</a>  and in the PowerShell gallery here <a target="_blank" rel="noopener" href="https://www.powershellgallery.com/packages/AddCustomAvailabilityDB/" title="https://www.powershellgallery.com/packages/AddCustomAvailabilityDB/">https://www.powershellgallery.com/packages/AddCustomAvailabilityDB/</a>. First we will call out the prerequisites.  Function assumes you have a working windows failover cluster, with SQL server installed and AlwaysOn enabled.  In addition it assumes the availability group you pass is created.  Any of the assumptions listed here will cause the function to abort and return an error.  Function was tested on SQL Server 2012 and SQL Server 2014 on Windows Server 2012 and 2012 R2.  Function will validate that the database(s) don’t exist already in another availability group, if it does, it will error and call out the group it currently exists in.  The final check is to validate that each database is in full recovery model.  If the database is not in full recovery, then it will alter the database and place it in full recovery. Parameters passed to Add-CustomAvailabilityDB include the following: Servers, SQLAgName, Database(s), and Backup Directory, TimeOut Servers parameter is array of strings of servers which the availability group exists on where you would like the database(s) to be replicated to. SQLAgName is the availability group you would like to add database(s) to. Backup Directory is optional.  In the event it is passed, all databases will be backed up to this location and restored from here to the corresponding servers passed.  Once restored, the databases will be joined to the availability group.  If Backup Directory is not passed, the function assumes you would like to do a Join Only operation and will attempt to join the databases.  If you do not pass Backup Directory, then the function assumes you have already taken a full and transaction log backup for each database and restored to each server with norecovery.  Database administrators may want to leverage this option when they have VLDB (Very Large Databases) because they often take a longtime to backup/restore and you may want to isolate when this occurs. TimeOut is the connection timeout for the SMO connection which is utilized to backup and restore the database(s).  If not passed, the value is set to 0 which will not timeout.  In the event you want the function to timeout after a period of time, TimeOut can be passed and the time is in seconds. Function will loop through each server and databases.  Depending on parameters passed, it will Backup/Restore and join the database to the availability group.  Once complete any backup files generated as a part of the function will be removed. Examples of the function are listed below: Add-CustomAvailabilityDB -Servers TNSQL3001,WASQL3001 -SqlAgName AG-TNWA3004 -Databases Test1 -BackupDirectory ohnas001SQLBackups –verbose Add-CustomAvailabilityDB -Servers TNSQL3001,WASQL3001,MISQL3001 -SqlAgName AG-TNWA3004 -Databases Test1,Test2,Test3,Test4,Test5 -BackupDirectory ohnas001SQLBackups -verbose</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2015/06/23/alwayson-availability-group-automation-part-2/" data-id="ckv2nrjkn0004p8ii8e7l9o59" data-title="AlwaysOn Availability Group Automation Part 2" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AlwaysOn/" rel="tag">AlwaysOn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PowerShell/" rel="tag">PowerShell</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-Server/" rel="tag">SQL Server</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-alwayson-availability-group-automation-part-1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/06/18/alwayson-availability-group-automation-part-1/" class="article-date">
  <time class="dt-published" datetime="2015-06-18T11:19:01.000Z" itemprop="datePublished">2015-06-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/SQL-Server/">SQL Server</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2015/06/18/alwayson-availability-group-automation-part-1/">AlwaysOn Availability Group Automation Part 1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[Troy Ault](<a target="_blank" rel="noopener" href="https://social.msdn.microsoft.com/profile/Troy">https://social.msdn.microsoft.com/profile/Troy</a> Ault) 6/18/2015 11:19:00 AM</p>
<hr>
<h1 id="AlwaysOn-Availability-Group-Automation-Part-1"><a href="#AlwaysOn-Availability-Group-Automation-Part-1" class="headerlink" title="AlwaysOn Availability Group Automation Part 1"></a>AlwaysOn Availability Group Automation Part 1</h1><p>Do you have a need to create multiple availability groups?  Do you wish there was an easy way script and deploy them consistently? PowerShell to the rescue!  PowerShell is the DBA’s best friend in that there are many tasks which can be simplified and automated, saving the DBA precious time to devote to other tasks.  The first PowerShell script I want to share with you can be leveraged to create availability groups.  The module name is NewCustomAG and can be found in the TechNet Gallery <a target="_blank" rel="noopener" href="https://gallery.technet.microsoft.com/PowerShell-Module-for-9538e843">https://gallery.technet.microsoft.com/PowerShell-Module-for-9538e843</a>) and PowerShell Gallery (<a target="_blank" rel="noopener" href="https://www.powershellgallery.com/packages/NewCustomAG/">https://www.powershellgallery.com/packages/NewCustomAG/</a>). I want to call out a few prerequisites before moving forward about the function.  This function assumes you have a functional Windows failover cluster with SQL Server installed on all nodes.  SQL Server versions tested were SQL Server 2012 and 2014 on Windows Server 2012 and 2012 R2.  SQL Server client tools and remote server administration tools need to be present on the server where you are running the script.  The script will check to verify AlwaysOn is enabled for the instance and if not, enable and recycle the services.  Therefore, if you don’t want your services recycled you should enable prior to executing the function. With NewCustomAG you can now create a script to create all the availability groups at once by just passing a few parameters.  Where does this come in handy?  Once scenario I have run into is when SharePoint is utilizing availability groups.  You will want to isolate specific databases to specific availability groups. For instance I may create a script such as below: Import-Module NewCustomAG New-CustomAG -Servers TNSQL3001,WASQL3001 -SqlAgName AG-SPAdmin-3001 -CNO CLUWATN3001 -IPAddresses 192.168.81.32,192.168.71.32 -BackupDirectory <a target="_blank" rel="noopener" href="//ohnas001SQLBackups">ohnas001SQLBackups</a> -verbose New-CustomAG -Servers TNSQL3001,WASQL3001 -SqlAgName AG-SPBI-3001 -CNO CLUWATN3001 -IPAddresses 192.168.81.33,192.168.71.33 -BackupDirectory <a target="_blank" rel="noopener" href="//ohnas001SQLBackups">ohnas001SQLBackups</a> -verbose New-CustomAG -Servers TNSQL3001,WASQL3001- SqlAgName AG-SPContent01-3001 -CNO CLUWATN3001-IPAddresses 192.168.81.34,192.168.71.34 -BackupDirectory <a target="_blank" rel="noopener" href="//ohnas001SQLBackups">ohnas001SQLBackups</a> -verbose New-CustomAG -Servers TNSQL3001,WASQL3001- SqlAgName AG-SPService01-3001 -CNO CLUWATN3001 -IPAddresses 192.168.81.35,192.168.71.35 -BackupDirectory <a target="_blank" rel="noopener" href="//ohnas001SQLBackups">ohnas001SQLBackups</a> -verbose This will create four empty availability groups for me.  For many large companies DBAs do not have the ability to create computer objects in the default OU of active directory.  Often times companies will create an OU specifically for their database servers and grant the DBA’s privileges.  In this case additional steps need to occur.  When you create the availability, listener it will attempt to create the Computer object in the default OU and will fail since you as a DBA do not have privileges there.  However, if the object exists and is disabled, SQL will be able to enable it.  The PowerShell module will ask for the Cluster Name Object(CNO), the script will look up the object and take the OU Path, and create the Availability Group Listener computer object in the same path.  After creating the computer object, it will assign the appropriate privileges to the CNO so when the listener is created it can enable it.  A dummy database is created and dropped when done for each DB since an availability group requires a database exist at time of creation.  All backup files are removed after the script completes. New-CustomAG gives you the flexibility to create the availability group on as many servers and subnets as needed.  The only requirement is the first server in the list will be assumed the primary.  If you are adding an existing database, it will be required to exist on this server or will create the dummy database here and restore to each additional server.  Multi-subnet clusters will need an IP address provided for each subnet.  PowerShell will loop through all servers and IPs. Hopefully you will find this useful in setting up your next availability group. Continue –&gt; <a target="_blank" rel="noopener" href="http://blogs.msdn.com/b/troy_aults_blog/archive/2015/06/23/alwayson-availability-group-automation-part-2.aspx">http://blogs.msdn.com/b/troy_aults_blog/archive/2015/06/23/alwayson-availability-group-automation-part-2.aspx</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2015/06/18/alwayson-availability-group-automation-part-1/" data-id="ckv2nrjkl0003p8iiahrvghhg" data-title="AlwaysOn Availability Group Automation Part 1" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AlwaysOn/" rel="tag">AlwaysOn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PowerShell/" rel="tag">PowerShell</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL-Server/" rel="tag">SQL Server</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/About-Me/">About Me</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/AlwaysOn/">AlwaysOn</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Authentication/">Authentication</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Azure/">Azure</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Container/">Container</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DSC/">DSC</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lab/">Lab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SQL-Server/">SQL Server</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/azure/">azure</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/azure/Azure-Data-Factory/">Azure Data Factory</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/azure/Azure-Data-Factory/Logic-App/">Logic App</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/azure/Azure-Data-Factory/Logic-App/SSIS/">SSIS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/azure/Azure-Data-Factory/SSIS/">SSIS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/azure/SQL/">SQL</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/uncategorized/">uncategorized</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARM/" rel="tag">ARM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AlwaysOn/" rel="tag">AlwaysOn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Automated-Lab/" rel="tag">Automated Lab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Automated-SQL-Install/" rel="tag">Automated SQL Install</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Automated-SSMS/" rel="tag">Automated SSMS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Automation/" rel="tag">Automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Azure/" rel="tag">Azure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Azure-Automation/" rel="tag">Azure Automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Azure-Data-Factory/" rel="tag">Azure Data Factory</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Azure-Resource-Manager/" rel="tag">Azure Resource Manager</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cloud/" rel="tag">Cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Credential/" rel="tag">Credential</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Current-SQL-Build/" rel="tag">Current SQL Build</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Custom-Integration-Runtime/" rel="tag">Custom Integration Runtime</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DSC/" rel="tag">DSC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DSC-at-Scale/" rel="tag">DSC at Scale</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Desired-State-Configuration/" rel="tag">Desired State Configuration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DevOps/" rel="tag">DevOps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HyperV-Lab/" rel="tag">HyperV Lab</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Key-Vault/" rel="tag">Key Vault</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LabinaBox/" rel="tag">LabinaBox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Manged-Instance/" rel="tag">Manged Instance</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Migration/" rel="tag">Migration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PowerShell/" rel="tag">PowerShell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL-Container/" rel="tag">SQL Container</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL-Linux/" rel="tag">SQL Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL-Server/" rel="tag">SQL Server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSIS/" rel="tag">SSIS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSMS-Install/" rel="tag">SSMS Install</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Secure-Login/" rel="tag">Secure Login</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDE/" rel="tag">TDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Testing-Environement/" rel="tag">Testing Environement</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ARM/" style="font-size: 13.33px;">ARM</a> <a href="/tags/AlwaysOn/" style="font-size: 13.33px;">AlwaysOn</a> <a href="/tags/Automated-Lab/" style="font-size: 10px;">Automated Lab</a> <a href="/tags/Automated-SQL-Install/" style="font-size: 15px;">Automated SQL Install</a> <a href="/tags/Automated-SSMS/" style="font-size: 10px;">Automated SSMS</a> <a href="/tags/Automation/" style="font-size: 11.67px;">Automation</a> <a href="/tags/Azure/" style="font-size: 11.67px;">Azure</a> <a href="/tags/Azure-Automation/" style="font-size: 10px;">Azure Automation</a> <a href="/tags/Azure-Data-Factory/" style="font-size: 10px;">Azure Data Factory</a> <a href="/tags/Azure-Resource-Manager/" style="font-size: 10px;">Azure Resource Manager</a> <a href="/tags/Cloud/" style="font-size: 10px;">Cloud</a> <a href="/tags/Credential/" style="font-size: 10px;">Credential</a> <a href="/tags/Current-SQL-Build/" style="font-size: 10px;">Current SQL Build</a> <a href="/tags/Custom-Integration-Runtime/" style="font-size: 10px;">Custom Integration Runtime</a> <a href="/tags/DSC/" style="font-size: 20px;">DSC</a> <a href="/tags/DSC-at-Scale/" style="font-size: 10px;">DSC at Scale</a> <a href="/tags/Desired-State-Configuration/" style="font-size: 16.67px;">Desired State Configuration</a> <a href="/tags/DevOps/" style="font-size: 10px;">DevOps</a> <a href="/tags/HyperV-Lab/" style="font-size: 10px;">HyperV Lab</a> <a href="/tags/Key-Vault/" style="font-size: 10px;">Key Vault</a> <a href="/tags/LabinaBox/" style="font-size: 10px;">LabinaBox</a> <a href="/tags/Manged-Instance/" style="font-size: 10px;">Manged Instance</a> <a href="/tags/Migration/" style="font-size: 10px;">Migration</a> <a href="/tags/PowerShell/" style="font-size: 13.33px;">PowerShell</a> <a href="/tags/SQL/" style="font-size: 13.33px;">SQL</a> <a href="/tags/SQL-Container/" style="font-size: 10px;">SQL Container</a> <a href="/tags/SQL-Linux/" style="font-size: 10px;">SQL Linux</a> <a href="/tags/SQL-Server/" style="font-size: 18.33px;">SQL Server</a> <a href="/tags/SSIS/" style="font-size: 10px;">SSIS</a> <a href="/tags/SSMS-Install/" style="font-size: 10px;">SSMS Install</a> <a href="/tags/Secure-Login/" style="font-size: 10px;">Secure Login</a> <a href="/tags/TDE/" style="font-size: 10px;">TDE</a> <a href="/tags/Testing-Environement/" style="font-size: 10px;">Testing Environement</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/07/automated-oracle-infrastructure-as-code-in-azure/">Oracle Infrastructure as Code in Azure</a>
          </li>
        
          <li>
            <a href="/2020/08/16/azure-devops-for-the-data-engineer-part-2/">Azure DevOps for the Data Engineer Part 2</a>
          </li>
        
          <li>
            <a href="/2020/08/10/azure-devops-for-the-data-engineer-part-1/">Azure DevOps for the Data Engineer Part 1</a>
          </li>
        
          <li>
            <a href="/2020/07/31/default-kit/">Default Kit</a>
          </li>
        
          <li>
            <a href="/2020/01/19/moving-databases-with-tde-to-azure-sql-managed-instance/">Moving Databases with TDE to Azure SQL Managed Instance</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Troy Ault<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>